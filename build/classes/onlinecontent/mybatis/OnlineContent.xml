<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> -->
<mapper namespace="onlinecontent.mybatis.OnlineContent">
	<select id="getContent" parameterType="int" resultType="AttachFileVideoDTO">
		select * from WN_VIDEO where mnum=#{mnum}
	</select> 
		<insert id="insertContent_videoOk" parameterType="map">
		insert all
		into WN_ONLINE values (wn_oncontent_seq.nextval,#{oc_dto.ctnum},#{oc_dto.mnum},#{oc_dto.title},
			#{oc_dto.content},#{oc_dto.price},wn_photo_seq.nextval,wn_video_seq.nextval)
		into WN_PHOTO values (wn_photo_seq.currval,#{p_dto.mnum},#{p_dto.filename},#{p_dto.fileext},#{p_dto.filedir})
		into WN_VIDEO values (wn_video_seq.currval,#{v_dto.mnum},#{v_dto.filename},#{v_dto.filedir})
	    select * from dual
	</insert>
	<insert id="insertContent_videoNo" parameterType="map">
		insert all
		into WN_ONLINE values (wn_oncontent_seq.nextval,#{oc_dto.ctnum},#{oc_dto.mnum},#{oc_dto.title},
			#{oc_dto.content},#{oc_dto.price},wn_photo_seq.nextval,wn_video_seq.nextval)
		into WN_PHOTO values (wn_photo_seq.currval,#{p_dto.mnum},#{p_dto.filename},#{p_dto.fileext},#{p_dto.filedir})
	    select * from dual
	</insert>
</mapper> 